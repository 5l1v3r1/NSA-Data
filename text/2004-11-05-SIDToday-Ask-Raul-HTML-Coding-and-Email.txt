<p data-reactid=".ti.1.0.0.1.0.1.$0.0" class="SidTodayFilesDetailViewer-pages-page-paragraph">DYNAMIC PAGE -- HIGHEST POSSIBLE CLASSIFICATION IS<br>TOP SECRET // SI / TK // REL TO USA AUS CAN GBR NZL<br><br>(U) Ask Raul: HTML Coding and Email<br>FROM: Raul, a DNI Analyst<br>Unknown<br>Run Date: 11/05/2004<br><br>(S) Hey, Raul, <br>I got this crazy numeric stuff the other day. Here's what it looks<br>like: <br>Doh! <br>Is this some sort of encryption? <br>Tracy<br>Dear Tracy, <br>(U) Believe it or not, that's just text. Some folks refer to it as HTML<br>Escape, or HTML special characters, HTML Unicode or if you want to<br>go by the RFC, Numeric Character Reference (NCR). Here's how it<br>works:<br>Format: <br>&amp;# Code ; for decimal (base 10) numbers <br>&amp;#x Code ; for hexadecimal (base 16) numbers <br>Code: <br>Unicode value of the character: <br>English/Latin letter D = 68 decimal or 44 hex <br>English/Latin letter a = 97 decimal or 61 hex <br>Cyrillic letter A = 1040 decimal or 410 hex <br>Arabic letter Alef = 1575 decimal or 627 hex <br>Parenthesized Hangul Hieuh = 12813 decimal or 320D hex<br>Assembled as: <br>D or D D <br>А or А Cyrillic A Ð​ <br>㈍ or ㈍ Parenthesized Hangul Hieuh ãˆ​ <br>It is very simple, is used quite commonly and has been for many<br>years. And it seems to be a "new" thing for most NSA analysts. But<br>it gets better!<br>(S) Most email tools are normally set by default to send a text and<br>an html version of a mail message. As a result, you can oftentimes<br>take advantage of this little condition to select traffic at the frontend, search for it on the back-end, or recover a perfectly good<br>email from a session which looks lost by simply going after the<br>NCR format.<br>(S) As you well know, all non-7-bit material going into Lionheart<br><br> SERIES: <br>(U) Ask Raul - Answers<br>to DNI Questions<br>1.  Ask Raul : Fonts and<br>Encoding<br>2.  Ask Raul : Dictionary<br>Equations<br>3.  Ask Raul : HTML<br>Coding and Email<br>4.  Ask Raul : PDF Files<br>5.  Ask Raul: Damaged<br>Data<br>6.  Ask Raul : Getting<br>the Most from<br>Metadata<br><br> </p><p data-reactid=".ti.1.0.0.1.0.1.$1.0" class="SidTodayFilesDetailViewer-pages-page-paragraph">gets indexed as though it were 7-bit. So, a perfectly good foreign<br>text term actually gets indexed as something it is not. If you are<br>lucky, and have a target that uses a character set such as KOI-8,<br>this bit stripping results in what looks like very good translit. If you<br>are unlucky, and your target is using something like CP-1251, then<br>that bit stripping produces a mess. For example, the Russian word<br>for tank, Ñ‚Ð°Ð½Ðº, comes out of this indexing process as ' TANK<br>' for KOI-8 but ' r`mj ' for CP-1251. You're not going to be able to<br>use that CP-1251 term to do anything. However, the same term<br>using NCR would look like this: танк<br>Ñ‚Ð°Ð½Ðº . Aside from being much more unique simply because<br>the pattern contains more characters (bytes), this form is not<br>harmed by the 7-bit indexing procedure.<br>(S) If you'd like to test this out, go to an Internet terminal or even<br>webworld and type in the string above. If this is the first time<br>you've heard of NCR and you are a linguist, you'll probably be<br>amazed at what you can find on the Internet using NCR strings.<br>There are many things that normally don't show up in your other<br>types of queries.<br>(S) Making things even better, this NCR form is absolutely beautiful<br>for selection and filtering or searching. What's more, since this<br>form uses nothing but 7-bit characters, it can go through systems,<br>which will destroy 8-bit traffic. This means if you know what you<br>are doing, you can 'recover' a perfect email message from a<br>session, which appears to have been totally lost. Ever seen a piece<br>of email where the entire foreign language portion was nothing but<br>question marks? Chances are that same email had an html double<br>with it containing the NCR. Old Raul used to use this magic when<br>he was in the Office of Russia to recover "totally destroyed" email.<br>When Raul left, so did the technique. Ð–Ð°Ð»ÑŒ!<br>(U) So, Tracy, there you go. It's usually the simple little things that<br>bite us in the rear. Oh, if you want a little smile, cut and paste the<br>text below, which includes your sample, into a text editor. Save it<br>as showme.htm and then open it in your web browser.<br>Enjoy! <br>Raul<br> <br><font size="+4"> <br>Doh! <br></font> <br><br><br>"(U//FOUO) SIDtoday articles may not be republished or reposted outside NSANet<br>without the consent of S0121 (DL sid_comms)."<br><br>DYNAMIC PAGE -- HIGHEST POSSIBLE CLASSIFICATION IS<br>TOP SECRET // SI / TK // REL TO USA AUS CAN GBR NZL<br>DERIVED FROM: NSA/CSSM 1-52, DATED 08 JAN 2007 DECLASSIFY ON: 20320108<br><br> </p>